<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ruang Kenangan</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:'Inter',sans-serif;
}

body{
    background:#0f1117;
    color:#e6e6e6;
}

/* BACK BUTTON */
.back{
    position:fixed;
    top:25px;
    left:25px;
    background:#171a22;
    padding:10px 18px;
    border-radius:12px;
    text-decoration:none;
    color:white;
    opacity:0.7;
    transition:0.3s;
}

.back:hover{
    opacity:1;
}

/* CONTAINER */
.container{
    max-width:1000px;
    margin:auto;
    padding:120px 20px 60px;
}

h1{
    text-align:center;
    margin-bottom:20px;
}

.desc{
    text-align:center;
    opacity:0.6;
    margin-bottom:50px;
}

/* UPLOAD FORM */
.upload-box{
    background:#171a22;
    padding:25px;
    border-radius:15px;
    margin-bottom:40px;
}

.upload-box input,
.upload-box textarea{
    width:100%;
    margin-top:10px;
    padding:12px;
    border:none;
    border-radius:10px;
    background:#0f1117;
    color:white;
}

.upload-box button{
    margin-top:15px;
    padding:12px 20px;
    border:none;
    border-radius:10px;
    background:#2e3440;
    color:white;
    cursor:pointer;
}

.upload-box button:hover{
    background:#3b4252;
}

/* MEMORY GRID */
.memory-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:25px;
}

/* POLAROID CARD */
.memory-card{
    background:#171a22;
    padding:15px;
    border-radius:15px;
    transition:0.3s;
    position:relative;
}

.memory-card:hover{
    transform:translateY(-6px);
}

.memory-card img{
    width:100%;
    border-radius:10px;
    margin-bottom:10px;
}

.memory-text{
    font-size:14px;
    opacity:0.8;
}

/* DELETE BUTTON */
.delete-btn{
    position:absolute;
    top:10px;
    right:10px;
    background:#2e3440;
    border:none;
    color:white;
    border-radius:8px;
    padding:5px 8px;
    cursor:pointer;
    font-size:12px;
}
</style>
</head>

<body>

<a href="index.html" class="back">‚Üê Dashboard</a>

<div class="container">

<h1>Ruang Kenangan</h1>
<p class="desc">Tempat menyimpan momen kecil yang berarti.</p>

<!-- Upload -->
<div class="upload-box">
    <input type="file" id="imageInput">
    <textarea id="memoryText" placeholder="Tulis kenangan..."></textarea>
    <button onclick="saveMemory()">Simpan Kenangan</button>
</div>

<!-- Gallery -->
<div class="memory-grid" id="memoryGrid"></div>

</div>

<script>

let memories = JSON.parse(localStorage.getItem("memories")) || [];
const grid = document.getElementById("memoryGrid");

function renderMemories(){
    grid.innerHTML = "";

    memories.forEach((mem, index)=>{
        const card = document.createElement("div");
        card.className = "memory-card";

        card.innerHTML = `
            <button class="delete-btn" onclick="deleteMemory(${index})">X</button>
            <img src="${mem.image}">
            <div class="memory-text">${mem.text}</div>
        `;

        grid.appendChild(card);
    });
}

function saveMemory(){
    const file = document.getElementById("imageInput").files[0];
    const text = document.getElementById("memoryText").value;

    if(!file) return alert("Upload foto dulu");

    const reader = new FileReader();

    reader.onload = function(e){
        memories.push({
            image: e.target.result,
            text: text
        });

        localStorage.setItem("memories", JSON.stringify(memories));
        renderMemories();
    }

    reader.readAsDataURL(file);
}

function deleteMemory(index){
    memories.splice(index,1);
    localStorage.setItem("memories", JSON.stringify(memories));
    renderMemories();
}

renderMemories();

</script>

</body>
</html>
